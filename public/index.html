<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ignition Shift - Home</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID&currency=USD"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-functions.js"></script>
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' 'unsafe-eval' data: blob:; script-src * 'unsafe-inline' 'unsafe-eval' data: blob:; style-src * 'unsafe-inline';">
</head>
<body>
    <!-- Navigation -->
    <div id="navbar-container"></div>

    <!-- Onboarding Tutorial Modal -->
<div class="modal onboarding-modal" id="onboarding-modal" style="display: none;">
    <div class="modal-content onboarding-content">
        <!-- Progress Indicator -->
        <div class="onboarding-progress">
            <div class="progress-bar">
                <div class="progress-fill" style="width: 0%"></div>
            </div>
            <span class="progress-text">Step 1 of 8</span>
        </div>

        <!-- Tutorial Content Area -->
        <div class="tutorial-slide active" data-slide="1">
            <div class="tutorial-icon">
                <i class="fas fa-flag-checkered"></i>
            </div>
            <h2>Welcome to Ignition Shift!</h2>
            <div class="tutorial-image">
                <img src="images/tutorial/welcome.png" alt="Welcome">
            </div>
            <p>Get ready to build your racing empire. Let's take a quick tour of what you can do!</p>
            <!-- Add "Don't show again" checkbox -->
    <div class="tutorial-option">
        <label class="checkbox-container">
            <input type="checkbox" id="dont-show-again">
            <span class="checkmark"></span>
            Don't show this tutorial again
        </label>
    </div>
        </div>

        <div class="tutorial-slide" data-slide="2">
            <div class="tutorial-icon">
                <i class="fas fa-warehouse"></i>
            </div>
            <h2>Your Garage</h2>
            <div class="tutorial-image">
                <img src="images/tutorial/garage.png" alt="Garage">
            </div>
            <p>Upgrade your vehicle stats here. Power, Speed, Handling - make your car unbeatable! While you're at it, take a good rest if needed!</p>
        </div>

        <div class="tutorial-slide" data-slide="3">
            <div class="tutorial-icon">
                <i class="fas fa-shopping-cart"></i>
            </div>
            <h2>Shop & Marketplace</h2>
            <div class="tutorial-image">
                <img src="images/tutorial/shop.png" alt="Shop">
            </div>
            <p>Buy new cars and parts in the Shop. Later, trade with other players in the Marketplace!</p>
        </div>

        <div class="tutorial-slide" data-slide="4">
            <div class="tutorial-icon">
                <i class="fas fa-trophy"></i>
            </div>
            <h2>Training & Rankings</h2>
            <div class="tutorial-image">
                <img src="images/tutorial/training.png" alt="Training">
            </div>
            <p>Practice on different tracks to earn rewards and climb the global leaderboards!</p>
        </div>

        <div class="tutorial-slide" data-slide="5">
            <div class="tutorial-icon">
                <i class="fas fa-users"></i>
            </div>
            <h2>Join a Team</h2>
            <div class="tutorial-image">
                <img src="images/tutorial/teams.png" alt="Teams">
            </div>
            <p>Team up with other racers for exclusive benefits and team-only markets!</p>
        </div>
            <div class="tutorial-slide" data-slide="6">
            <div class="tutorial-icon">
                <i class="fas fa-users"></i>
            </div>
            <h2>Daily Challenges!</h2>
            <div class="tutorial-image">
                <img src="images/tutorial/dailyc.png" alt="DailyC">
            </div>
            <p>Check out the daily challenges to gain even more rewards!</p>
        </div>
        <div class="tutorial-slide" data-slide="7">
            <div class="tutorial-icon">
                <i class="fas fa-users"></i>
            </div>
            <h2>PvP Challenges!</h2>
            <div class="tutorial-image">
                <img src="images/tutorial/pvprace.png" alt="pvprace">
            </div>
            <p>Go to the missions page to accept or decline challenges from other racers!</p>
        </div>

       <div class="tutorial-slide" data-slide="8">
    <div class="tutorial-icon">
        <i class="fas fa-rocket"></i>
    </div>
    <h2>Ready to Race!</h2>
    <div class="tutorial-image">
        <img src="images/tutorial/ready.png" alt="Ready">
    </div>
    <p>You're all set! Start by upgrading your stats in the Garage, then hit the tracks!</p>
    
    <!-- Add "Don't show again" checkbox -->
    <div class="tutorial-option">
        <label class="checkbox-container">
            <input type="checkbox" id="dont-show-again">
            <span class="checkmark"></span>
            Don't show this tutorial again
        </label>
    </div>
    
    <div class="call-to-action">
        <button class="cta-btn" id="start-racing-btn">
            <i class="fas fa-play"></i> Start Racing!
        </button>
    </div>
</div>
        <!-- Navigation Controls -->
        <div class="tutorial-controls">
            <button class="nav-btn prev-btn" id="prev-slide">
                <i class="fas fa-chevron-left"></i> Back
            </button>
            <button class="nav-btn next-btn" id="next-slide">
                Next <i class="fas fa-chevron-right"></i>
            </button>
            <button class="nav-btn skip-btn" id="skip-tutorial">
                Skip Tutorial
            </button>
        </div>
    </div>
</div>

    <div class="container">  
        <!-- PLAYER DASHBOARD (Visible when logged in) -->
        <div id="player-view" style="display: none;">
            <!-- Player Header -->
            <div class="player-header-compact">
                <div class="player-welcome-compact">
                    <h1>Welcome back, <span id="username">Racer</span>! üèéÔ∏è</h1>
                    <p>Ready to dominate the track?</p>
                </div>
                <div class="quick-stats-header">
                    <div class="quick-stat">
                        <i class="fas fa-coins"></i>
                        <span id="gold">0</span>
                    </div>
                    <div class="quick-stat">
                        <i class="fas fa-gem"></i>
                        <span id="tokens">0</span>
                    </div>
                    

                      <button class="btn-primary token-store-btn" id="token-store-button">
        üíé Buy Tokens
    </button>
                      </div>
            </div>          


<!-- Token Store Modal -->
<div id="token-store-modal" class="modal">
    <div class="modal-content token-store">
        <div class="modal-header">
            <h2>üöÄ Ignition Token Store</h2>
            <button class="close-btn" id="close-token-store">√ó</button>
        </div>
        
        <div class="token-packages">
            <div class="package-grid" id="package-grid">
                <!-- Packages dynamically loaded -->
            </div>
        </div>
    </div>
</div>

            <!-- Main Dashboard Grid -->
            <div class="dashboard-container">
                <!-- Left Column: Inventory -->
                <div class="inventory-section">
                    <h3>Inventory</h3>
                    <div class="inventory-controls">
                        <div class="inventory-filters">
                            <button class="filter-btn active" data-filter="all">All Items</button>
                            <button class="filter-btn" data-filter="car">üöó Cars</button>
                            <button class="filter-btn" data-filter="engine">‚öôÔ∏è Engines</button>
                            <button class="filter-btn" data-filter="tire">üåÄ Tires</button>
                            <button class="filter-btn" data-filter="turbo">‚ö° Turbos</button>
                            <button class="filter-btn" data-filter="suspension">üîß Suspensions</button>
                            <button class="filter-btn" data-filter="seat">üí∫ Seats</button>
                        </div>
                        
                        <div class="inventory-sort">
                            <label for="sort-inventory">Sort by:</label>
                            <select id="sort-inventory">
                                <option value="name">Name</option>
                                <option value="equipped">Equipped First</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="inventory-count" id="inventory-count">Loading...</div>
                    <div id="inventory-grid" class="inventory-grid"></div>
                </div>

                <!-- Right Column: Current Vehicle & Equipped Items -->
                <div class="equipment-section">
                    <h3>Current Setup</h3>
                    
                    <div class="current-vehicle">
                        <div class="vehicle-image-container">
                            <img id="current-car-image" src="" alt="Current Vehicle">
                        </div>
                        <div class="vehicle-name" id="current-car-name">Loading...</div>
                        <div class="vehicle-stats" id="current-car-stats">Equipped</div>
                    </div>
                    
                    <div class="equipped-items-container">
                        <h4>Equipped Parts</h4>
                        <div id="equipped-items">
                            <!-- Equipped items will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bottom Stats Row -->
            <div class="stats-container">
                <!-- Left: Attributes -->
                <div class="attributes-section">
                    <h3>Attributes</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span>üí™ Power:</span>
                            <span id="power-display">0</span>
                        </div>
                        <div class="stat-item">
                            <span>‚ö° Speed:</span>
                            <span id="speed-display">0</span>
                        </div>
                        <div class="stat-item">
                            <span>üéÆ Dexterity:</span>
                            <span id="dexterity-display">0</span>
                        </div>
                        <div class="stat-item">
                            <span>üéØ Handling:</span>
                            <span id="handling-display">0</span>
                        </div>
                        <div class="stat-item">
                            <span>üõ°Ô∏è Structure:</span>
                            <span id="structure-display">0</span>
                        </div>
                        <div class="stat-item">
                            <span>üçÄ Luck:</span>
                            <span id="luck-display">0</span>
                        </div>
                    </div>
                </div>

                <!-- Right: Player Stats -->
                <div class="player-stats-section">
                    <h3>Player Stats</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span>‚≠ê Level:</span>
                            <span id="level">1</span>
                        </div>
                        <div class="stat-item">
                            <span>üìä XP:</span>
                            <span id="xp">0/100</span>
                        </div>
                        <div class="stat-item">
                            <span>üí∞ Gold:</span>
                            <span id="stats-gold">0</span>
                        </div>
                        <div class="stat-item">
                            <span>üíé Tokens:</span>
                            <span id="stats-tokens">0</span>
                        </div>
                        <div class="stat-item">
                            <span>üèÜ Fame:</span>
                            <span id="fame">0</span>
                        </div>
                        <div class="stat-item">
                            <span>‚ù§Ô∏è Condition:</span>
                            <span id="condition">100%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AUTH SECTION (Visible when logged out) -->
<div class="auth-section" id="auth-section">
    <div class="auth-container">
        <h2><i class="fas fa-racing-flag"></i> Start Your Engine</h2>
        <form id="authForm">
            <div class="form-group">
                <input type="email" id="email" placeholder="Enter your email" required>
            </div>
            <div class="form-group">
                <input type="password" id="password" placeholder="Create your password" required>
            </div>
            <div class="auth-buttons">
                <button type="submit" class="auth-btn login-btn">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
                <button type="button" class="auth-btn signup-btn" onclick="handleSignup()">
                    <i class="fas fa-user-plus"></i> Sign Up
                </button>
            </div>
        </form>
        <p id="authMessage"></p>
        
        <div class="auth-features">
            <p><i class="fas fa-bolt"></i> Instant Access</p>
            <p><i class="fas fa-shield-alt"></i> Secure & Private</p>
            <p><i class="fas fa-trophy"></i> Start Competing Immediately</p>
        </div>
    </div>
</div>

        <!-- GALLERY & NEWS (Visible when logged out) -->
        <div class="guest-content" id="guest-content">
            <!-- Image Gallery -->
            <section class="news-gallery">
                <h2>Latest from the Track</h2>
                <div class="gallery-grid">
                    <div class="news-card">
                        <div class="news-image">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="news-content">
                            <h3>Championship Update</h3>
                            <p>New season starts next week with $50,000 prize pool</p>
                        </div>
                    </div>
                    <div class="news-card">
                        <div class="news-image">
                            <i class="fas fa-car"></i>
                        </div>
                        <div class="news-content">
                            <h3>New Vehicles Added</h3>
                            <p>5 hypercars now available in the shop</p>
                        </div>
                    </div>
                    <div class="news-card">
                        <div class="news-image">
                            <i class="fas fa-cogs"></i>
                        </div>
                        <div class="news-content">
                            <h3>Major Update Live</h3>
                            <p>New training system and improved physics</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Quick Stats Preview -->
            <section class="preview-stats">
                <h2>Join Thousands of Racers</h2>
                <div class="quick-stats">
                    <div class="quick-stat">
                        <i class="fas fa-users"></i>
                        <span>15,847</span>
                        <span>Active Racers</span>
                    </div>
                    <div class="quick-stat">
                        <i class="fas fa-flag-checkered"></i>
                        <span>284,956</span>
                        <span>Races Completed</span>
                    </div>
                    <div class="quick-stat">
                        <i class="fas fa-trophy"></i>
                        <span>$2.1M</span>
                        <span>In Prizes Won</span>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script type="module" src="frontend.js"></script>    
    <script src="https://js.stripe.com/v3/"></script>
</body>
</html>